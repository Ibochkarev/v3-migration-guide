---
badges:
  - breaking
---

# Использование transition корневым элементом <MigrationBadges :badges="$frontmatter.badges" />

## Обзор

Использование `<transition>` в качестве корневого элемента компонента больше не будет вызывать анимации перехода, когда отображение компонента переключается снаружи

## 2.x Поведение

Во Vue 2 можно запускать анимации перехода снаружи компонента, используя `<transition>` в качестве корневого элемента компонента:

```html
<!-- компонент модального окна -->
<template>
  <transition>
    <div class="modal"><slot/></div>
  </transition>
</template>
```

```html
<!-- использование -->
<modal v-if="showModal">привет</modal>
```

Переключение значения `showModal` будет запускать анимации перехода внутри компонента модального окна.

Это работало по случайности, так не было задумано. Предполагается, что `<transition>` вызывается изменениями в его дочерних элементах, а не переключением самого `<transition>`.

Теперь эта недоработка устранена.

## Стратегия миграции

Аналогичного эффекта можно добиться с помощью передачи входного параметра компоненту:

```vue
<template>
  <transition>
    <div v-if="show" class="modal"><slot/></div>
  </transition>
</template>
<script>
export default {
  props: ['show']
}
</script>
```

```html
<!-- использование -->
<modal :show="showModal">hello</modal>
```

## См. также

- [Переименованы некоторые классы `<transition>`](./transition.html)
- [`<TransitionGroup>` теперь не имеет корневого элемента по умолчанию](./transition-group.html)
